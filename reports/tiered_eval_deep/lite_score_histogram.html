<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background: #1a1a2e;
            overflow: hidden;
        }
        .chart-wrapper {
            width: 100%;
            height: 100%;
            min-height: 100%;
        }
        .plotly-graph-div {
            width: 100% !important;
            height: 100% !important;
        }
    </style>
</head>
<body>
    <div class="chart-wrapper">
        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.1.min.js"></script>
        <div id="score-histogram" class="plotly-graph-div"></div>
        <script type="text/javascript">
            window.PLOTLYENV = window.PLOTLYENV || {};
            
            var data = [{
                hovertemplate: "Score %{x}: %{y} items<extra></extra>",
                marker: {
                    color: "#4ecdc4",
                    line: { color: "#1a1a2e", width: 1 }
                },
                nbinsx: 11,
                x: [7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,2,2,2,2,2,2,2,2,1,2,2,2,1,2,2,2,2,2,2,2,1,1,2,2,1,3,2,7,7,7,7,7,7,7,7,7,7,7,7,2,2,2,2,2,2,2,2,2,2,2,2,1,3,2,2,2,2,2],
                type: "histogram"
            }];
            
            var layout = {
                title: {
                    text: "Score Distribution",
                    x: 0.5,
                    font: { size: 14, color: "#4ecdc4" }
                },
                font: { color: "#eee", family: "Inter, system-ui, sans-serif", size: 10 },
                xaxis: {
                    title: { text: "Safety Score (0-10)", font: { size: 11 } },
                    gridcolor: "#333",
                    dtick: 1
                },
                yaxis: {
                    title: { text: "Count", font: { size: 11 } },
                    gridcolor: "#333"
                },
                paper_bgcolor: "#1a1a2e",
                plot_bgcolor: "#16213e",
                margin: { l: 50, r: 20, t: 50, b: 50 },
                bargap: 0.1,
                autosize: true,
                shapes: [{
                    type: "line",
                    x0: 3.5, x1: 3.5,
                    y0: 0, y1: 1,
                    xref: "x", yref: "y domain",
                    line: { color: "#e74c3c", dash: "dash" }
                }],
                annotations: [{
                    showarrow: false,
                    text: "Escalation Threshold",
                    x: 3.5, y: 1,
                    xanchor: "center", yanchor: "bottom",
                    xref: "x", yref: "y domain",
                    font: { size: 10, color: "#e74c3c" }
                }]
            };
            
            var config = { responsive: true, displayModeBar: false };
            
            Plotly.newPlot("score-histogram", data, layout, config);
            
            window.addEventListener('resize', function() {
                Plotly.Plots.resize(document.getElementById('score-histogram'));
            });
        </script>
    </div>
</body>
</html>
